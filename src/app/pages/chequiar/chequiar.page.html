<ion-header>
  <ion-toolbar color="dark">
    <ion-grid>
      <ion-row>
        <ion-col size="2">
         <ion-buttons>
            <ion-menu-button>
              <ion-icon class="padding_menu" size="large" name="menu"></ion-icon>
            </ion-menu-button>
          </ion-buttons>
        </ion-col>
        <ion-col size="8">
          <ion-title class="ion-padding-top">
            Ecomerce
          </ion-title>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <ion-text class="ion-padding-top" color="dark">
          <h6>Carro de compras</h6>
        </ion-text>
      </ion-col>
      <ion-col size="12">
        <ion-button color="dark" expand="full">Completar la transacción</ion-button>
        <ion-row>
          <ion-col size="6">
            Total ( {{ data.count_articulo + " articulos"}})
          </ion-col>
          <ion-col size="6">
            {{ (data.costo_total || 0).toLocaleString('de-DE', { style: 'currency', currency: 'COP' }) }}
          </ion-col>
        </ion-row>
      </ion-col>
      <ion-col size="12">
        <div class="ion-text-center" *ngIf="list_articulo.length === 0">
          <ion-button color="dark" [routerLink]="['/listproduct', 1 ]">
            <span>Ver Tienda</span>
          </ion-button>
        </div>
      </ion-col>
      <ion-col size="12" *ngFor="let item of list_articulo; let idx=index">
        <ion-row>
          <!-- <ion-col size="9">
            <ion-text color="dark">
              <h6>Username</h6>
            </ion-text>
          </ion-col> -->
          <!-- <ion-col size="3">
            <ion-text>
              <h6 [routerLink]="['/categoria']">Más opciones</h6>
            </ion-text>
          </ion-col> -->
          <ion-col>
            <ion-row>
              <ion-col size="3">
                <div class="ion-margin-top">
                  <img class="rounded" *ngIf="data" [src]="item.foto">
                </div>
              </ion-col>
              <ion-col size="5">
                <ion-text>
                  <h6 [routerLink]="['/productoview', item.id]">
                    {{ item.titulo }}
                  </h6>
                  <p>{{ item.color || 'negro' }} &nbsp; {{ item.estado }} </p>
                </ion-text>
              </ion-col>
              <ion-col size="4">
                <ion-text>
                  <h6>{{ (item.costopromosion || item.costoventa || 0).toLocaleString('de-DE', { style: 'currency', currency: 'COP' }) }} </h6>
                  <p>{{ item.envio || 'gratis' }}</p>
                </ion-text>
                <div>
                  <ion-label position="floating">Cant.</ion-label>
                  <ion-input class="opacidad" (keyup)="obj_cart()" [(ngModel)]="item.cantida_adquiridad" type="number"
                    placeholder="Cantidad de Unidades"></ion-input>
                </div>
              </ion-col>
            </ion-row>
            <ion-col size="12">
              <div class="ion-text-end">
                <ion-text>
                  <!-- <ion-button (click)="btn_guardar(item)" color="dark">
                    Guardar para después
                  </ion-button> -->
                  <ion-button (click)="eliminar(idx)" color="danger">
                    Borrar
                  </ion-button>
                </ion-text>
              </div>
            </ion-col>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <div>
          <div class="ion-text-center">
            <ion-button color="dark" (click)="btn_finalizar()">
              Finalizar Compra
            </ion-button>
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>